# פלקסליינר (Flexliner)

אתר הזרמת תוכן – סרטים וסדרות בסגנון נטפליקס.

## תכונות

- **צד משתמש**: דף צפייה עם קטגוריות, חיפוש חופשי, נגן וידאו, והמלצות AI לפי תיאור (ללא הרשמה).
- **צד מנהל**: העלאת סרטים וסדרות, הגדרת קטגוריות, הוספת פרקים לסדרות, ואפיון תוכן אוטומטי באמצעות AI.

## דרישות

- Node.js 18+
- מפתח OpenAI (להמלצות ולאפיון AI)

## התקנה

```bash
npm install
cp .env.example .env
# ערוך .env והוסף OPENAI_API_KEY=sk-...
npx prisma generate
npx prisma db push
npm run dev
```

פתח בדפדפן: [http://localhost:3000](http://localhost:3000)

- **דף הבית**: בחירה בין צפייה לניהול.
- **צפייה** (`/browse`): גלילה לפי קטגוריות, חיפוש, "המלצות לפי AI" (תאר מה בא לך לראות), לחיצה על פריט לפרטים וצפייה.
- **ניהול** (`/admin`): קטגוריות, תוכן (סרט/סדרה), פרקים לסדרה, כפתור "צור אפיון AI" לכל תוכן.

## משתני סביבה

| משתנה | תיאור |
|--------|--------|
| `DATABASE_URL` | קישור למסד הנתונים (ברירת מחדל: `file:./dev.db` ל-SQLite) |
| `OPENAI_API_KEY` | מפתח API של OpenAI להמלצות ולאפיון תוכן |
| `NEXT_PUBLIC_APP_URL` | (אופציונלי) כתובת בסיס של האתר לשימוש ב-API מהלקוח, למשל `http://localhost:3000` |

## מבנה קצר

- `src/app/page.tsx` – דף כניסה (צפייה / ניהול)
- `src/app/browse/` – צד משתמש (רשימה, סדרה, סרט, נגן)
- `src/app/admin/` – צד מנהל (תוכן, קטגוריות)
- `src/app/api/` – API: content, categories, episodes, search, ai/recommend, ai/characterize
- `prisma/schema.prisma` – מודלים: Category, Content, Episode

## הערות

- השימוש באתר ללא הרשמה: היסטוריית צפייה ו"אהבתי" נשמרות ב-`localStorage` לשיפור ההמלצות.
- העלאת תוכן: כרגע מזינים **קישורים** לתמונות ולוידאו (URLs). לא מועלים קבצים לשרת.
